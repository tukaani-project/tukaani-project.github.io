<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.20.1) on Sun Nov 05 01:35:10 MYT 2023 -->
<title>ArrayCache (XZ data compression)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-11-05">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ArrayCache (XZ data compression)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":9,"i2":9,"i3":10,"i4":10,"i5":10,"i6":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.tukaani.xz</a></div>
<h2 title="Class ArrayCache" class="title">Class ArrayCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.tukaani.xz.ArrayCache</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="BasicArrayCache.html" title="class in org.tukaani.xz">BasicArrayCache</a></code>, <code><a href="ResettableArrayCache.html" title="class in org.tukaani.xz">ResettableArrayCache</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">ArrayCache</span>
extends <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block">Caches large arrays for reuse (base class and a dummy cache implementation).
 <p>
 When compressing or decompressing many (very) small files in a row, the
 time spent in construction of new compressor or decompressor objects
 can be longer than the time spent in actual compression or decompression.
 A large part of this initialization overhead comes from allocation and
 garbage collection of large arrays.
 <p>
 The <code>ArrayCache</code> API provides a way to cache large array allocations
 for reuse. It can give a major performance improvement when compressing or
 decompressing many tiny files. If you are only (de)compressing one or two
 files or the files a very big, array caching won't improve anything,
 although it won't make anything slower either.
 <p>
 <b>Important: The users of ArrayCache don't return the allocated arrays
 back to the cache in all situations.</b>
 This a reason why it's called a cache instead of a pool.
 If it is important to be able to return every array back to a cache,
 <a href="ResettableArrayCache.html" title="class in org.tukaani.xz"><code>ResettableArrayCache</code></a> can be useful.
 <p>
 In compressors (OutputStreams) the arrays are returned to the cache
 when a call to <code>finish()</code> or <code>close()</code> returns
 successfully (no exceptions are thrown).
 <p>
 In decompressors (InputStreams) the arrays are returned to the cache when
 the decompression is successfully finished (<code>read</code> returns <code>-1</code>)
 or <code>close()</code> or <code>close(boolean)</code> is called. This is true even
 if closing throws an exception.
 <p>
 Raw decompressors don't support <code>close(boolean)</code>. With raw
 decompressors, if one wants to put the arrays back to the cache without
 closing the underlying <code>InputStream</code>, one can wrap the
 <code>InputStream</code> into <a href="CloseIgnoringInputStream.html" title="class in org.tukaani.xz"><code>CloseIgnoringInputStream</code></a> when creating
 the decompressor instance. Then one can use <code>close()</code>.
 <p>
 Different cache implementations can be extended from this base class.
 All cache implementations must be thread safe.
 <p>
 This class also works as a dummy cache that simply calls <code>new</code>
 to allocate new arrays and doesn't try to cache anything. A statically
 allocated dummy cache is available via <a href="#getDummyCache()"><code>getDummyCache()</code></a>.
 <p>
 If no <code>ArrayCache</code> is specified when constructing a compressor or
 decompressor, the default <code>ArrayCache</code> implementation is used.
 See <a href="#getDefaultCache()"><code>getDefaultCache()</code></a> and <a href="#setDefaultCache(org.tukaani.xz.ArrayCache)"><code>setDefaultCache(ArrayCache)</code></a>.
 <p>
 This is a class instead of an interface because it's possible that in the
 future we may want to cache other array types too. New methods can be
 added to this class without breaking existing cache implementations.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.7</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="BasicArrayCache.html" title="class in org.tukaani.xz"><code>BasicArrayCache</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">ArrayCache</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a new <code>ArrayCache</code> that does no caching
 (a dummy cache).</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getByteArray(int,boolean)">getByteArray</a></span>&#8203;(int&nbsp;size,
            boolean&nbsp;fillWithZeros)</code></th>
<td class="colLast">
<div class="block">Allocates a new byte array.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="ArrayCache.html" title="class in org.tukaani.xz">ArrayCache</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDefaultCache()">getDefaultCache</a></span>()</code></th>
<td class="colLast">
<div class="block">Gets the default <code>ArrayCache</code> instance.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="ArrayCache.html" title="class in org.tukaani.xz">ArrayCache</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDummyCache()">getDummyCache</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a statically-allocated <code>ArrayCache</code> instance.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIntArray(int,boolean)">getIntArray</a></span>&#8203;(int&nbsp;size,
           boolean&nbsp;fillWithZeros)</code></th>
<td class="colLast">
<div class="block">Allocates a new int array.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#putArray(byte%5B%5D)">putArray</a></span>&#8203;(byte[]&nbsp;array)</code></th>
<td class="colLast">
<div class="block">Puts the given byte array to the cache.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#putArray(int%5B%5D)">putArray</a></span>&#8203;(int[]&nbsp;array)</code></th>
<td class="colLast">
<div class="block">Puts the given int array to the cache.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDefaultCache(org.tukaani.xz.ArrayCache)">setDefaultCache</a></span>&#8203;(<a href="ArrayCache.html" title="class in org.tukaani.xz">ArrayCache</a>&nbsp;arrayCache)</code></th>
<td class="colLast">
<div class="block">Sets the default <code>ArrayCache</code> instance.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ArrayCache</h4>
<pre>public&nbsp;ArrayCache()</pre>
<div class="block">Creates a new <code>ArrayCache</code> that does no caching
 (a dummy cache). If you need a dummy cache, you may want to call
 <a href="#getDummyCache()"><code>getDummyCache()</code></a> instead.</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getDummyCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDummyCache</h4>
<pre class="methodSignature">public static&nbsp;<a href="ArrayCache.html" title="class in org.tukaani.xz">ArrayCache</a>&nbsp;getDummyCache()</pre>
<div class="block">Returns a statically-allocated <code>ArrayCache</code> instance.
 It can be shared by all code that needs a dummy cache.</div>
</li>
</ul>
<a id="getDefaultCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultCache</h4>
<pre class="methodSignature">public static&nbsp;<a href="ArrayCache.html" title="class in org.tukaani.xz">ArrayCache</a>&nbsp;getDefaultCache()</pre>
<div class="block">Gets the default <code>ArrayCache</code> instance.
 This is a global cache that is used when the application
 specifies nothing else. The default is a dummy cache
 (see <a href="#getDummyCache()"><code>getDummyCache()</code></a>).</div>
</li>
</ul>
<a id="setDefaultCache(org.tukaani.xz.ArrayCache)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultCache</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;setDefaultCache&#8203;(<a href="ArrayCache.html" title="class in org.tukaani.xz">ArrayCache</a>&nbsp;arrayCache)</pre>
<div class="block">Sets the default <code>ArrayCache</code> instance.
 Use with care. Other libraries using this package probably shouldn't
 call this function as libraries cannot know if there are other users
 of the xz package in the same application.</div>
</li>
</ul>
<a id="getByteArray(int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByteArray</h4>
<pre class="methodSignature">public&nbsp;byte[]&nbsp;getByteArray&#8203;(int&nbsp;size,
                           boolean&nbsp;fillWithZeros)</pre>
<div class="block">Allocates a new byte array.
 <p>
 This implementation simply returns <code>new byte[size]</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - the minimum size of the array to allocate;
                          an implementation may return an array that
                          is larger than the given <code>size</code></dd>
<dd><code>fillWithZeros</code> - if true, the caller expects that the first
                          <code>size</code> elements in the array are zero;
                          if false, the array contents can be anything,
                          which speeds things up when reusing a cached
                          array</dd>
</dl>
</li>
</ul>
<a id="putArray(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putArray</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;putArray&#8203;(byte[]&nbsp;array)</pre>
<div class="block">Puts the given byte array to the cache. The caller must no longer
 use the array.
 <p>
 This implementation does nothing.</div>
</li>
</ul>
<a id="getIntArray(int,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIntArray</h4>
<pre class="methodSignature">public&nbsp;int[]&nbsp;getIntArray&#8203;(int&nbsp;size,
                         boolean&nbsp;fillWithZeros)</pre>
<div class="block">Allocates a new int array.
 <p>
 This implementation simply returns <code>new int[size]</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - the minimum size of the array to allocate;
                          an implementation may return an array that
                          is larger than the given <code>size</code></dd>
<dd><code>fillWithZeros</code> - if true, the caller expects that the first
                          <code>size</code> elements in the array are zero;
                          if false, the array contents can be anything,
                          which speeds things up when reusing a cached
                          array</dd>
</dl>
</li>
</ul>
<a id="putArray(int[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>putArray</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;putArray&#8203;(int[]&nbsp;array)</pre>
<div class="block">Puts the given int array to the cache. The caller must no longer
 use the array.
 <p>
 This implementation does nothing.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
